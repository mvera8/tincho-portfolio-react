/* Botón “orbe” con animación sol/luna */
.root {
	--size: 25px;
	--ease: cubic-bezier(0.25, 0.46, 0.45, 0.94);

	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 6px;
	border: 0;
	background: transparent;
	cursor: pointer;
	border-radius: 999px;
	outline: none;
	user-select: none;
}

.root:focus-visible {
	box-shadow: 0 0 0 3px rgba(99, 102, 241, .35);
	border-radius: 999px;
}

.root:active .orb {
	transform: scale(0.96);
}

/* El orbe (sol o luna) */
.orb {
	position: relative;
	width: var(--size);
	height: var(--size);
	border-radius: 999px;
	background: linear-gradient(40deg, #FF0080, #FF8C00 70%);
	/* sol */
	transition: background .5s var(--ease), transform .5s var(--ease), box-shadow .3s var(--ease);
	box-shadow: 0 6px 20px rgba(0, 0, 0, .12);
	will-change: transform, background;
}

/* Rayos del sol */
.orb::before {
	content: "";
	position: absolute;
	inset: -10px;
	border-radius: 999px;
	/* 8 rayos con box-shadow; rotan suavemente en modo light */
	mask:
		conic-gradient(from 0deg, #0000 0 10deg, #000 10deg 20deg) 50% 50% / 90% 90% repeat;
	opacity: 0.9;
	animation: spin 6s linear infinite;
	transition: opacity .4s var(--ease), filter .4s var(--ease);
}

/* Estrellas (salen en dark) */
.orb::after {
	content: "";
	position: absolute;
	inset: 0;
	border-radius: 999px;
	opacity: 0;
	transform: scale(0.9);
	transition: opacity .5s var(--ease), transform .5s var(--ease);
	filter: drop-shadow(0 0 3px rgba(255, 255, 255, .5));
}

/* La “media luna” que aparece al activar dark */
.crescent {
	position: absolute;
	right: 0;
	top: 0;
	width: calc(var(--size) * 0.66);
	height: calc(var(--size) * 0.66);
	border-radius: 999px;
	background: white;
	transform: scale(0);
	transform-origin: top right;
	transition: transform .6s cubic-bezier(0.645, 0.045, 0.355, 1), background .3s var(--ease);
}

/* Estados DARK (activados por [data-dark="true"]) */
.root[data-dark="true"] .orb {
	background: linear-gradient(40deg, #8983F7, #A3DAFB 70%);
	transform: rotate(-15deg);
}

.root[data-dark="true"] .orb::before {
	opacity: 0;
	/* rayos fuera */
	animation: none;
	filter: blur(2px);
}

.root[data-dark="true"] .orb::after {
	opacity: 1;
	/* estrellas dentro */
	transform: scale(1);
}

.root[data-dark="true"] .crescent {
	transform: scale(1);
	background: #26242E;
}

/* Animación de giro de rayos */
@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}

/* Respeto reduce-motion */
@media (prefers-reduced-motion: reduce) {

	.orb,
	.orb::before,
	.orb::after,
	.crescent {
		animation: none !important;
		transition: none !important;
	}
}